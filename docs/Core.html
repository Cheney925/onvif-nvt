<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Core</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Core</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Core<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Core
Provide core functionality for Onvif Device Management.
<p>
<a href="https://www.onvif.org/onvif/specs/core/ONVIF-Core-Specification-v220.pdf">https://www.onvif.org/onvif/specs/core/ONVIF-Core-Specification-v220.pdf</a><br>
<a href="https://www.onvif.org/ver10/device/wsdl/devicemgmt.wsdl">https://www.onvif.org/ver10/device/wsdl/devicemgmt.wsdl</a><br>
<a href="https://www.onvif.org/ver10/events/wsdl/event.wsdl">https://www.onvif.org/ver10/events/wsdl/event.wsdl</a><br>
</p>
<h3>Functions</h3>
<br><br>
<h3>Overview</h3></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Core"><span class="type-signature"></span>new Core<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="createRequest"><span class="type-signature"></span>createRequest<span class="signature">(body)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Private function for creating a SOAP request.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>body</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The body of the xml.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getCapabilities"><span class="type-signature"></span>getCapabilities<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This method provides a backward compatible interface for the base capabilities. Refer to
GetServices for a full set of capabilities.<br>
Annex A describes how to interpret the indicated capability. Apart from the addresses, the
capabilities only reflect optional functions in this specification.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callback">callback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback, instead of a Promise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line205">line 205</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getDeviceInformation"><span class="type-signature"></span>getDeviceInformation<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This operation gets device information, such as manufacturer, model and firmware version
from a device. The device shall support the return of device information through the
GetDeviceInformation command.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line411">line 411</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getHostname"><span class="type-signature"></span>getHostname<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This operation is used by an endpoint to get the hostname from a device. The device shall
return its hostname configurations through the GetHostname command.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callback">callback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback, instead of a Promise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line237">line 237</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getScopes"><span class="type-signature"></span>getScopes<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This operation requests the scope parameters of a device. The scope parameters are used in
the device discovery to match a probe message, see Section 7. The Scope parameters are of
two different types:
<ul>
 <li>Fixed</li>
 <li>Configurable</li>
</ul>
Fixed scope parameters are permanent device characteristics and cannot be removed
through the device management interface. The scope type is indicated in the scope list
returned in the get scope parameters response. A device shall support retrieval of discovery
ONVIF™ – 71 – ONVIF Core Spec. – Ver. 17.12
scope parameters through the GetScopes command. As some scope parameters are
mandatory, the device shall return a non-empty scope list in the response.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line598">line 598</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getServiceCapabilities"><span class="type-signature"></span>getServiceCapabilities<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <strong>+++ I get an 'Action Failed' with Axis cameras. Hikvision works fine.</strong><br>
This command returns the capabilities of the device service. The service shall implement this
method if the device supports the GetServices method.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callback">callback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback, instead of a Promise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line173">line 173</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getServices"><span class="type-signature"></span>getServices<span class="signature">(includeCapability<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <strong>+++ I get an 'Action Failed' with Axis cameras. Hikvision works fine.</strong><br>
Returns a collection of the devices services and possibly their available capabilities. The
returned capability response message is untyped to allow future addition of services, service
revisions and service capabilities. All returned service capabilities shall be structured by
different namespaces which are supported by a device.<br>
A device shall implement this method if any of the ONVIF compliant services implements the
GetServiceCapabilities. For making sure about the structure of GetServices response with
capabilities, please refer to Annex C. Example for GetServices Response with capabilities.<br>
The version in GetServicesResponse shall contain the specification version number of the
corresponding service that is implemented by a device.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>includeCapability</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The message contains a request for all services in the device and
possibly the capabilities for each service. If the Boolean
IncludeCapability is set, then the response shall include the services
capabilities.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callback">callback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback, instead of a Promise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getSystemDateAndTime"><span class="type-signature"></span>getSystemDateAndTime<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This operation gets the device system date and time.
The device shall support the return of the daylight
saving setting and of the manual system date and time
(if applicable) or indication of NTP time (if applicable)
through the GetSystemDateAndTime command.<br>
A device shall provide the UTCDateTime information although
the item is marked as optional to ensure backward compatibility.<br>
This is required to be called for devices that
support the GetSystemDateAndTime SOAP method so
a time diff can be used in subsequent calls to
the device.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line461">line 461</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getTimeDiff"><span class="type-signature"></span>getTimeDiff<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns the onvif device's time difference<br>
getSystemDateAndTime must be called first to get an accurate time.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line73">line 73</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="getWsdlUrl"><span class="type-signature"></span>getWsdlUrl<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    It is possible for an endpoint to request a URL that can be used to retrieve the complete
schema and WSDL definitions of a device. The command gives in return a URL entry point
where all the necessary product specific WSDL and schema definitions can be retrieved. The
device shall provide a URL for WSDL and schema download through the GetWsdlUrl
command.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callback">callback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback, instead of a Promise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line89">line 89</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">(serviceAddress, username<span class="signature-attributes">opt</span>, password<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Call this function directly after instantiating a Core object.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>serviceAddress</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">An url object from url package - require('url').</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>username</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional only if the device does NOT have a user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>password</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional only if the device does NOT have a password.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line48">line 48</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="parseGetSystemDateAndTime"><span class="type-signature"></span>parseGetSystemDateAndTime<span class="signature">(s)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>s</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">GetSystemDateAndTimeResponse converted to JSON.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line486">line 486</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="setHostnameFromDHCP"><span class="type-signature"></span>setHostnameFromDHCP<span class="signature">(name, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This operation sets the hostname on a device. It shall be possible to set the device hostname
configurations through the SetHostname command. Attention: a call to SetDNS may result in
overriding a previously set hostname.<br>
A device shall accept strings formated according to RFC 1123 section 2.1 or alternatively to
RFC 952, other string shall be considered as invalid strings.<br>
A device shall try to retrieve the name via DHCP when the HostnameFromDHCP capability is
set and an empty name string is provided.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The host name. If Name is an empty string hostname
should be retrieved from DHCP, otherwise the specified Name
shall be used.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#callback">callback</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional callback, instead of a Promise.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line274">line 274</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="systemReboot"><span class="type-signature"></span>systemReboot<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    This operation reboots the device.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="modules_core.js.html">modules/core.js</a>, <a href="modules_core.js.html#line570">line 570</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Contains the reboot message from the device (ie: Rebooting in 90 seconds).
</div>



    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Access.html">Access</a></li><li><a href="AccessRules.html">AccessRules</a></li><li><a href="Action.html">Action</a></li><li><a href="Analytics.html">Analytics</a></li><li><a href="Camera.html">Camera</a></li><li><a href="Core.html">Core</a></li><li><a href="Credential.html">Credential</a></li><li><a href="DeviceIO.html">DeviceIO</a></li><li><a href="Discovery.html">Discovery</a></li><li><a href="Display.html">Display</a></li><li><a href="Door.html">Door</a></li><li><a href="Events.html">Events</a></li><li><a href="Imaging.html">Imaging</a></li><li><a href="Media.html">Media</a></li><li><a href="Media2.html">Media2</a></li><li><a href="OnvifManager.html">OnvifManager</a></li><li><a href="Ptz.html">Ptz</a></li><li><a href="Receiver.html">Receiver</a></li><li><a href="Recording.html">Recording</a></li><li><a href="Replay.html">Replay</a></li><li><a href="Schedule.html">Schedule</a></li><li><a href="Search.html">Search</a></li><li><a href="Security.html">Security</a></li><li><a href="Soap.html">Soap</a></li><li><a href="Thermal.html">Thermal</a></li><li><a href="VideoAnalytics.html">VideoAnalytics</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Feb 11 2018 09:37:59 GMT-0700 (MST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>